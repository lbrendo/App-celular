try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="0d6408ce-23a0-42a8-9145-2aae8f6ef8d3",e._sentryDebugIdIdentifier="sentry-dbid-0d6408ce-23a0-42a8-9145-2aae8f6ef8d3")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5982],{39:(e,s,t)=>{t.d(s,{BK:()=>o,eu:()=>i,q5:()=>c});var r=t(99289),a=t(77319),l=t(11405),n=t(26551);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,r.jsx)(a.bL,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...l})});i.displayName=a.bL.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,r.jsx)(a._V,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",t),...l})});o.displayName=a._V.displayName;let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,r.jsx)(a.H4,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...l})});c.displayName=a.H4.displayName},2417:(e,s,t)=>{t.d(s,{G:()=>i,q:()=>n});var r=t(99289),a=t(36380),l=t(51252);let n=new a.E,i=e=>{let{children:s}=e;return(0,r.jsx)(l.Ht,{client:n,children:s})}},4099:(e,s,t)=>{t.d(s,{_:()=>o});var r=t(99289),a=t(11405),l=t(39),n=t(99017),i=t(26551);let o=e=>{let{name:s,isInteractive:t,className:o,photoSrc:c,userColor:d,isWorkspace:u=!1,tooltipContent:m=s,...p}=e,h=s?s.charAt(0).toUpperCase():"",[x,f]=(0,a.useState)(!1);return(0,r.jsxs)(n.m_,{open:!!t&&!!s&&x,onOpenChange:f,children:[(0,r.jsx)(n.k$,{asChild:!0,children:(0,r.jsxs)(l.eu,{className:(0,i.cn)("h-[26px] w-[26px] shrink-0 border border-transparent text-xs",{["hover:bg-".concat(d)]:!c&&!u&&t,"cursor-pointer":t,["hover:border-".concat(d)]:t,["group-[.avatars]:hover:border-".concat(d)]:t,"group-[.avatars]:border-background":!0,"rounded-[8px] hover:border-transparent":u},o),...p,children:[(0,r.jsx)(l.BK,{className:"aspect-auto object-cover",src:c}),(0,r.jsx)(l.q5,{className:(0,i.cn)("font-medium text-white bg-".concat(d),u&&"rounded-[8px]",o),children:h})]})}),(0,r.jsx)(n.ZI,{children:m})]})}},5790:(e,s,t)=>{t.d(s,{Q:()=>l});var r=t(11405);let a=["brand-ocean-primary","brand-twilight-primary","brand-flamingo-primary","brand-bubblegum-primary","brand-saffron-primary","brand-tiger-primary"];function l(e){return(0,r.useMemo)(()=>{e||(e="fake-user");let s=function(e){let s=0;for(let t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s&=s;return Math.abs(s)}(e)%a.length;return a[s]},[e])}},8497:(e,s,t)=>{t.d(s,{d:()=>a});var r=t(11405);function a(e,s){let[t,a]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let t=setTimeout(()=>{a(e)},s);return()=>{clearTimeout(t)}},[e,s]),t}},9563:(e,s,t)=>{t.d(s,{Np:()=>N,mb:()=>P,Om:()=>k,Iw:()=>E});var r=t(99289),a=t(6919),l=t(22803),n=t(22291),i=t(11405),o=t(98213),c=t(76918),d=t(37079),u=t(66608),m=t(70999),p=t(33256),h=t(26787),x=t(69147),f=t(16457),g=t(49944),j=t(6072),w=t(97757),v=t(86077);let b=e=>{let{done:s}=e,t=(0,n.useRouter)();return(0,r.jsxs)(j.Cf,{className:"gap-4 outline-none focus:ring-0",size:"md",hideCloseButton:!0,blurOverlay:!0,onInteractOutside:e=>{e.preventDefault()},children:[(0,r.jsxs)("div",{className:"flex flex-col items-start gap-4",children:[(0,r.jsx)(v.Fy,{className:"h-9"}),(0,r.jsxs)(j.c7,{children:[(0,r.jsx)(j.L3,{className:"text-2xl md:text-3xl",children:"Sorry, you don't have access"}),(0,r.jsx)(j.rr,{children:"This project is private. To view it, contact the owner or switch accounts."})]})]}),(0,r.jsxs)(j.Es,{fullWidthButtons:!0,className:"flex-col",children:[(0,r.jsx)(g.$,{onClick:()=>{t.push("/"),s()},className:"w-full",variant:"outline",children:"Go home"}),(0,r.jsxs)(g.$,{onClick:()=>{t.push("/"),s()},className:"w-full",children:[(0,r.jsx)(w.A,{name:"add",className:"h-4 w-4"}),"Create your own project"]})]})]})},y=(0,i.createContext)(null),N=e=>{let{children:s,projectId:t}=e;return(0,r.jsx)(_,{projectId:t,children:s},t)},_=e=>{let{children:s,projectId:t}=e,g=(0,i.useRef)((0,c.vt)(()=>({projectId:t,project:void 0,isDeleting:!1,hasHandledCollaborationInvite:!1,isRemixDialogOpen:!1}))),j=(0,m.f)(b),w=(0,n.useRouter)(),{isAuthenticated:v}=(0,d.Z2)(),{userData:N}=(0,u.ur)(),_=g.current(e=>e.hasHandledCollaborationInvite);(0,i.useEffect)(()=>{if(!t||!_)return;let e=(0,l.H9)(h.db,"projects",t),s=(0,l.aQ)(e,e=>{let s=e.data();s&&!s.deleted_at?g.current.setState({project:s}):g.current.getState().isDeleting||(x.logging.error("PROJECT NOT FOUND",{projectId:t,docExists:e.exists(),userId:null==N?void 0:N.id}),w.push("/projects/not-found"))},e=>{if(x.logging.error("PROJECT PERMISSION ERROR",{error:e,projectId:t}),"permission-denied"===e.code){x.logging.error("PROJECT PERMISSION DENIED",{error:e,projectId:t}),j({childProps:{done:()=>j(!1)}});return}o.oR.error("Error",{description:"Failed to fetch project."})});return()=>{s()}},[t,N,v,w,_,j]);let k=(0,a.n)({mutationFn:async e=>{let{project:s}=g.current.getState();if(!s)return;let r=(0,p.Pg)();await r.put("/projects/".concat(t),e)},onMutate:e=>{let s=g.current,{project:t}=s.getState();t&&s.setState({project:{...t,...e}})},throwOnError:!0}),E=(0,a.n)({mutationFn:e=>e?(0,p.Pg)().put("/projects/".concat(t,"/visibility"),{visibility:e}):Promise.resolve(),onSuccess:(e,s)=>{"public"===s?o.oR.success("Visibility updated",{description:"Your project is now public."}):"private"===s?o.oR.success("Visibility updated",{description:"Your project is now private."}):"draft"===s?o.oR.success("Visibility updated",{description:"Your project is now personal."}):o.oR.success("Visibility updated")},onError:()=>{o.oR.error("Error",{description:"Failed to update visibility"})}}),P=(0,a.n)({mutationFn:async e=>{let s=(0,p.Pg)(),r=await s.post("/projects/".concat(t,"/badge/visibility"),{hide_badge:e});try{await (0,f.o)({projectId:t})}catch(e){}return r}});((e,s)=>{let t=(0,i.useRef)(void 0);return(0,i.useEffect)(()=>{"pending"===e?t.current=o.oR.loading(s.pending.title,s.pending.options):"success"===e?t.current?(o.oR.success(s.success.title,{id:t.current,...s.success.options,duration:3e3,dismissible:!1}),t.current=void 0):o.oR.success(s.success.title,s.success.options):"error"===e&&(t.current?(o.oR.error(s.error.title,{id:t.current,...s.error.options,duration:3e3,dismissible:!1}),t.current=void 0):o.oR.error(s.error.title,s.error.options))},[e])})(P.status,{pending:{title:"Updating badge visibility..."},success:{title:"Badge visibility updated"},error:{title:"Failed to update badge visibility",options:{duration:3,description:"We couldn't update the badge visibility right now. Please try again in a few minutes."}}});let C={store:g.current,updateProject:(e,s)=>{k.mutate(e,{onSuccess:()=>{(null==s?void 0:s.onSuccess)&&s.onSuccess()},onError:e=>{(null==s?void 0:s.onError)&&s.onError(e)}})},setVisibilityMutation:E,setBadgeVisibility:P.mutateAsync,setHasHandledCollaborationInvite:e=>{g.current.setState({hasHandledCollaborationInvite:e})},setIsRemixDialogOpen:e=>{g.current.setState({isRemixDialogOpen:e})}};return(0,r.jsx)(y.Provider,{value:C,children:s})};function k(){let e=(0,i.useContext)(y);if(!e)throw Error("useProjectContext must be used within a ProjectProvider");return e}function E(e){let{store:s}=k();return s(e)}function P(e){let s=function(){let e=(0,i.useContext)(y);if(e)return e}();return null==s?void 0:s.store(e)}},13432:(e,s,t)=>{t.d(s,{I7:()=>l,Pf:()=>a,y:()=>n});var r=t(72384);async function a(e,s){let t=r.y.workspaceMemberships({workspaceId:s});await e.cancelQueries({queryKey:t.queryKey})}function l(e,s,t,a,l,n){var i,o;let c=r.y.workspaceMemberships({workspaceId:s}),d=e.getQueryData(c.queryKey);if(d&&e.setQueryData(c.queryKey,{...d,members:a(d.members),total:n?n(d.total):d.total,limit:d.limit,offset:null!=(i=d.offset)?i:0,has_more:d.has_more}),t){let i=r.y.searchWorkspaceMemberships({workspaceId:s,params:t}),c=e.getQueryData(i.queryKey);if(c){let s=l?l(c.members):a(c.members);e.setQueryData(i.queryKey,{...c,members:s,total:n?n(c.total):c.total,limit:c.limit,offset:null!=(o=c.offset)?o:0,has_more:c.has_more})}}}function n(e,s,t,a){let l={refetchType:(null==a?void 0:a.refetch)?"active":"none"};e.invalidateQueries({queryKey:r.y.workspaceMemberships({workspaceId:s}).queryKey,...l}),t&&e.invalidateQueries({queryKey:r.y.searchWorkspaceMemberships({workspaceId:s,params:t}).queryKey,...l})}},16457:(e,s,t)=>{t.d(s,{o:()=>a});var r=t(40074);let a=async e=>{let{projectId:s,deploymentId:t}=e;if(!s)throw Error("Project ID is required");let a=r.env.NEXT_PUBLIC_PROXY_WORKER_PROTOCOL||"https",l=new URL("".concat(a,"://deployments.").concat("lovable.app"));(l=new URL("https://proxy-worker.lovable.run")).pathname="/__l5e/proxy/new-deployment";let n=await fetch(l.toString(),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({project_id:s,deployment_id:t})});if(!n.ok)throw Error("Failed to update deployment ID: ".concat(n.status));return n}},17651:(e,s,t)=>{t.d(s,{K4:()=>o,_A:()=>i,yj:()=>c});var r=t(34363),a=t(11405),l=t(72384),n=t(82360);function i(e){let{workspaceId:s}=e,[t,i]=(0,a.useState)({query:"",status:"all",limit:n.m,offset:0}),{data:o,isLoading:c,error:d}=(0,r.I)(l.y.searchWorkspaceMemberships({workspaceId:s,params:t})),u=(0,a.useCallback)(e=>{i(s=>{let t={...s,...e};return(void 0!==e.query||void 0!==e.status)&&(t.offset=0),t})},[]),m=(0,a.useCallback)(()=>{(null==o?void 0:o.has_more)&&i(e=>({...e,offset:(e.offset||0)+n.m}))},[null==o?void 0:o.has_more]);return{members:(null==o?void 0:o.members)||[],total:(null==o?void 0:o.total)||0,hasMore:(null==o?void 0:o.has_more)||!1,isLoading:c,error:d,search:u,loadMore:m,searchParams:t}}function o(e){let{workspaceId:s}=e,{data:t,isLoading:a,error:n}=(0,r.I)(l.y.searchWorkspaceMemberships({workspaceId:s,params:{query:"",status:"active",role:"owner",limit:1}}));return{owner:(null==t?void 0:t.members[0])||null,isLoading:a,error:n}}function c(e){let{workspaceId:s,status:t="active",enabled:a=!0}=e,{data:n}=(0,r.I)({...l.y.searchWorkspaceMemberships({workspaceId:s,params:{query:"",status:t,limit:1}}),enabled:a&&!!s});return{memberCount:(null==n?void 0:n.total)||0}}},23594:(e,s,t)=>{t.d(s,{J:()=>x,S:()=>h});var r=t(34363),a=t(11405),l=t(32044),n=t(2417),i=t(1965),o=t(33256),c=t(273);let d={permissions:e=>{let{workspaceId:s,projectId:t}=e;return(0,l.j)({queryKey:c.QO.get(s,t),queryFn:async()=>{if(!t&&!s)return[];let e=(0,o.Pg)(),r=new URLSearchParams;t?r.append("projectId",t):s&&r.append("workspaceId",s);try{return await e.get("/permissions?".concat(r.toString()))}catch(e){throw e instanceof i.L&&403===e.status&&n.q.invalidateQueries({queryKey:c.QO.all}),e}},refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:3e5,retry:3})}};var u=t(9563),m=t(37079),p=t(43328);function h(){let e=(0,u.mb)(e=>e.projectId),s=(0,p.useCurrentWorkspaceStore)(e=>{var s;return null==(s=e.currentWorkspace)?void 0:s.id}),{isAuthenticated:t}=(0,m.Z2)(),{data:l,isLoading:n}=(0,r.I)({...d.permissions({workspaceId:s,projectId:e}),enabled:t});return{permissions:(0,a.useMemo)(()=>t&&Array.isArray(l)?l:[],[t,l]),isLoading:!!t&&n}}function x(e){let s=(0,u.mb)(e=>e.projectId),t=(0,p.useCurrentWorkspaceStore)(e=>{var s;return null==(s=e.currentWorkspace)?void 0:s.id}),{isAuthenticated:l}=(0,m.Z2)(),{data:n,isLoading:i}=(0,r.I)({...d.permissions({workspaceId:t,projectId:s}),enabled:l});return{permitted:(0,a.useMemo)(()=>l&&Array.isArray(n)&&n.includes(e),[l,n,e]),isLoading:!!l&&i}}},26516:(e,s,t)=>{t.d(s,{H:()=>n,k:()=>i});var r=t(99289),a=t(11405);let l=(0,a.createContext)(null),n=()=>(0,a.useContext)(l),i=e=>{let{children:s,searchParams:t}=e;return(0,r.jsx)(l.Provider,{value:t,children:s})}},30394:(e,s,t)=>{t.d(s,{M:()=>h});var r=t(99289),a=t(11405),l=t(50471),n=t(98213),i=t(49944),o=t(5531),c=t(97757),d=t(66184),u=t(37552),m=t(31126);let p=e=>{var s,t;let{selectedRole:l,onRoleChange:n,roleOptions:d,disabled:u=!1,workspace:p}=e,[h,x]=(0,a.useState)(!1);return u?(0,r.jsx)(i.$,{variant:"ghost",size:"sm",className:"flex-shrink-0 gap-1.5 font-normal",disabled:!0,children:null==(t=d.find(e=>e.value===l))?void 0:t.label}):(0,r.jsxs)(o.rI,{open:h,onOpenChange:x,children:[(0,r.jsx)(o.ty,{asChild:!0,children:(0,r.jsxs)(i.$,{variant:"ghost",size:"sm",className:"flex-shrink-0 gap-1.5 font-normal",children:[null==(s=d.find(e=>e.value===l))?void 0:s.label,(0,r.jsx)(c.A,{name:"keyboard_arrow_down",size:"small"})]})}),(0,r.jsx)(o.SQ,{children:(0,r.jsx)(o.Hr,{value:l,onValueChange:e=>{n(e),x(!1)},children:d.map(e=>(0,r.jsxs)(o.Ht,{value:e.value,className:"hover:bg-accent",children:[e.label,("read"===e.value||"viewer"===e.value)&&p&&(0,r.jsx)(m.M,{workspace:p,requiredPlanCategory:"pro"})]},e.value))})})]})},h=e=>{let{onInvite:s,isInviting:t,roleOptions:o,defaultRole:c,canSelectRoles:m=!0,placeholder:h="Add emails",completelyDisabled:x=!1,onInputChange:f,workspace:g}=e,[j,w]=(0,a.useState)([]),[v,b]=(0,a.useState)(""),[y,N]=(0,a.useState)(c),_=j.length>0||""!==v.trim(),k=async()=>{let e=[...j],t=v.trim();if(""===t||j.includes(t)||(e.push(t),w(e),b("")),0===e.length)return;if(e.length>0&&!e.every(e=>(0,d.xf)(e)))return void(1===e.length?n.oR.error("Invalid email address",{description:"Please check the email address and try again."}):n.oR.error("Invalid email address",{description:"One or more email addresses are invalid. Please check and try again."}));let{success:r}=await s({emails:e,role:y});r&&(w([]),b(""),null==f||f(""))};(0,l.vC)("mod+enter",e=>{e.preventDefault(),t||k()},{enableOnFormTags:!0});let E=""===v.trim()&&0===j.length;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.u,{tags:j,setTags:w,inputValue:v,setInputValue:e=>{b(e),null==f||f(e)},placeholder:h,disabled:x,className:"min-w-0 flex-1",validateItem:e=>(0,d.xf)(e)?null:"This is not a valid email."}),_&&(0,r.jsx)(p,{selectedRole:y,onRoleChange:N,roleOptions:o,disabled:!m||x,workspace:g}),(0,r.jsx)(i.$,{onClick:k,variant:"affirmative",className:"flex-shrink-0",disabled:t||E||x,loading:t,children:"Invite"})]})}},31126:(e,s,t)=>{t.d(s,{M:()=>o});var r=t(99289);t(11405);var a=t(97115),l=t(26551),n=t(97757),i=t(99017);let o=e=>{let{workspace:s,requiredPlanCategory:t,className:o,...c}=e,d=(0,a.TP)(t),u=(0,a._R)(s.plan),m=(0,a.m6)(s.plan),p=!(0,a.my)(m,t);return(0,r.jsxs)(i.m_,{children:[(0,r.jsx)(i.k$,{asChild:!0,children:(0,r.jsxs)("div",{className:(0,l.cn)("flex h-5 cursor-pointer items-center gap-1 rounded-sm bg-brand-twilight px-2 py-px text-xs font-medium text-brand-twilight-foreground hover:bg-brand-twilight/80",o),...c,children:[(0,r.jsx)(n.A,{name:"lovable_icon",size:"xsmall"}),(0,r.jsx)("p",{className:(0,l.cn)("flex",{hidden:!p}),children:d})]})}),(0,r.jsx)(i.ZI,{children:p?(0,r.jsxs)("p",{children:["Upgrade to ",d," to access this feature."]}):(0,r.jsxs)("p",{children:["Included in ",u]})})]})}},37552:(e,s,t)=>{t.d(s,{u:()=>d});var r=t(99289),a=t(53417),l=t(26551),n=t(9562),i=t(97757);let o=/[,;\n\t]+/g,c=/\s+/g,d=e=>{let{tags:s,setTags:t,inputValue:d,setInputValue:u,placeholder:m="Type and press Enter...",className:p="",validateItem:h,error:x,...f}=e,g=e=>{t(s.filter((s,t)=>t!==e))},j=s.some(e=>!!h&&h(e));return(0,r.jsxs)("div",{className:(0,l.cn)("flex min-h-9 w-full min-w-0 flex-wrap items-center gap-1.5 overflow-hidden rounded-md border border-input bg-transparent p-2 py-1.5 text-sm shadow-sm transition-colors focus-within:ring-1 focus-within:ring-ring",(x||j)&&"border-destructive focus-within:ring-destructive",p),children:[s.map((e,s)=>{let t=h?h(e):null;return(0,r.jsx)(n.Q,{showTooltip:!!t,tooltipContent:t||"",instant:!0,className:"min-w-0",children:(0,r.jsxs)(a.E,{variant:"secondary",className:"flex min-w-0 cursor-default items-center gap-1 rounded-sm px-1 py-0 text-xs font-medium",children:[t&&(0,r.jsx)(i.A,{name:"warning_fill",className:"text-destructive-primary",size:"small"}),(0,r.jsx)("span",{className:"min-w-0 max-w-[160px] overflow-hidden truncate md:whitespace-nowrap",children:e}),(0,r.jsx)("button",{type:"button",className:"flex-shrink-0 rounded-sm duration-100 ease-out hover:bg-muted-hover",onClick:()=>g(s),children:(0,r.jsx)(i.A,{name:"close_small"})})]})},s)}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"!==e.key&&","!==e.key&&" "!==e.key||e.metaKey||""===d.trim()?"Backspace"===e.key&&""===d&&s.length>0&&g(s.length-1):(e.preventDefault(),(e=>{s.includes(e)||""===e.trim()||t([...s,e]),u("")})(d.trim()))},onPaste:e=>{e.preventDefault();let r=e.clipboardData.getData("text").replace(o," ").replace(c," ").trim().split(" ").map(e=>e.trim()).filter(e=>""!==e),a=new Set(s),l=[...s];r.forEach(e=>{let s=""!==e.trim();!a.has(e)&&s&&(l.push(e),a.add(e))}),t(l)},placeholder:m,className:"min-w-[80px] flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground",...f})]})};d.displayName="TagsInput"},44593:(e,s,t)=>{t.d(s,{H:()=>u});var r=t(99289),a=t(22291),l=t(76704),n=t(40177),i=t(49944),o=t(6072),c=t(15207),d=t(86077);function u(e){let{open:s,onOpenChange:t}=e,u=(0,a.useRouter)(),m=(0,l.c3)("AuthDialog"),p=(0,n.Tp)(c.x.GetStartedForFree);return(0,r.jsx)(o.lG,{open:s,onOpenChange:t,children:(0,r.jsxs)(o.Cf,{className:"gap-4",size:"sm",children:[(0,r.jsxs)("div",{className:"flex flex-col items-start gap-4",children:[(0,r.jsx)(d.Fy,{className:"h-9"}),(0,r.jsxs)(o.c7,{children:[(0,r.jsx)(o.L3,{className:"text-3xl",children:m("title")}),(0,r.jsx)(o.rr,{children:m("description")})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-3",children:[(0,r.jsx)(i.$,{onClick:()=>u.push("/login"),className:"w-full",variant:"outline",children:m("logIn")}),(0,r.jsx)(i.$,{onClick:()=>u.push("/signup"),className:"w-full",children:m(p?"getStartedForFree":"signUp")})]})]})})}},45747:(e,s,t)=>{t.d(s,{P:()=>i});var r=t(99289),a=t(49612),l=t(53417),n=t(26551);let i=e=>{let{id:s,username:t,displayName:i,photoURL:o,avatarClassName:c,actionComponent:d,email:u,isCurrentUser:m=!1,isInvited:p=!1,showBadge:h=!0}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-start gap-3 py-1 md:flex-nowrap",children:[(0,r.jsx)(a.H,{className:(0,n.cn)(c,p&&"opacity-60"),user:{id:s,username:null!=i?i:u},photoURL:o,isInteractive:!1}),(0,r.jsx)("div",{className:"flex min-w-0 flex-shrink items-center gap-4 ".concat(p&&"opacity-60"),children:(0,r.jsxs)("div",{className:"flex min-w-0 flex-col gap-0",children:[(0,r.jsxs)("div",{className:"flex-shrink truncate text-sm font-medium leading-tight",children:[i," ",m&&(0,r.jsx)("span",{className:"font-normal",children:"(you)"})]}),(0,r.jsx)("span",{className:"max-w-[150px] flex-shrink truncate text-xs text-muted-foreground",children:u})]})}),p&&h&&(0,r.jsx)(l.E,{variant:"outline",className:"hidden gap-1 bg-muted text-xs font-medium text-muted-foreground md:flex",children:"Invite sent"}),d&&(0,r.jsx)("div",{className:"ml-auto flex-shrink-0",children:d})]})}},49612:(e,s,t)=>{t.d(s,{H:()=>n});var r=t(99289),a=t(4099),l=t(5790);let n=e=>{var s;let{isInteractive:t=!1,className:n,user:i,photoURL:o,...c}=e,d=(0,l.Q)(null==i?void 0:i.id),u=(null==i||null==(s=i.attributes)?void 0:s.display_name)||(null==i?void 0:i.username)||(null==i?void 0:i.id);return(0,r.jsx)(a._,{name:u,isInteractive:t,photoSrc:o,userColor:d,className:n,...c})}},59404:(e,s,t)=>{t.d(s,{h:()=>r});var r=function(e){return e.OWNER="owner",e.ADMIN="admin",e.WRITE="write",e.READ="read",e.NONE="none",e}({})},61461:(e,s,t)=>{t.d(s,{A:()=>i});var r=t(99289),a=t(11405),l=t(49944),n=t(6072);let i=e=>{let{title:s="Remove",targetName:t,descriptionTemplate:i="Are you sure you want to remove {name}? They will no longer have access.",confirmButtonText:o="Remove",cancelButtonText:c="Cancel",onConfirm:d,onCancel:u}=e,[m,p]=(0,a.useState)(!1),h=async()=>{p(!0);try{await d()}finally{p(!1)}},x=i.replace("{name}",t);return(0,r.jsxs)(n.Cf,{size:"sm",children:[(0,r.jsxs)(n.c7,{children:[(0,r.jsx)(n.L3,{children:s}),(0,r.jsx)(n.rr,{children:x})]}),(0,r.jsxs)(n.Es,{className:"gap-2 sm:justify-end",children:[(0,r.jsx)(l.$,{variant:"outline",onClick:u,disabled:m,children:c}),(0,r.jsx)(l.$,{variant:"destructive",onClick:h,disabled:m,loading:m,children:m?"Removing...":o})]})]})}},66184:(e,s,t)=>{t.d(s,{VC:()=>o,wO:()=>i,xf:()=>n});var r=t(99490);let a=r.Yj().min(1,"Email is required").email("Please enter a valid email address"),l=r.YO(a).max(3,"You can invite up to 3 team members").refine(e=>new Set(e.map(e=>e.toLowerCase())).size===e.length,{message:"Duplicate email addresses are not allowed"});function n(e){return a.safeParse(e).success}function i(e){let s=e.filter(e=>""!==e.trim());return l.safeParse(s)}function o(e,s){let t=e.filter(e=>""!==e.trim()),r=l.safeParse(t),n=[null,null,null];for(let s=0;s<3;s++){let t=e[s];if(t&&t.trim()){let e=a.safeParse(t);if(!e.success){var i;n[s]=(null==(i=e.error.errors[0])?void 0:i.message)||"Invalid email address"}}}let o=[];return r.success||(o=r.error.errors.filter(e=>0===e.path.length).map(e=>e.message)),s&&t.some(e=>e.trim().toLowerCase()===s.trim().toLowerCase())&&o.push("You cannot invite yourself"),{globalErrors:o,fieldErrors:n}}},73728:(e,s,t)=>{t.d(s,{B5:()=>h,Nn:()=>x,oQ:()=>u,tY:()=>p});var r=t(99289),a=t(34363),l=t(11405),n=t(76918),i=t(72384),o=t(33063),c=t(9563);let d=(0,l.createContext)(null),u=e=>{let{children:s}=e,t=(0,l.useRef)((0,n.vt)(()=>({projectWorkspace:null,membership:null,permissions:{read:!1,write:!1,admin:!1},isLoading:!0,hasFetchedProjectWorkspace:!1,project:null}))),{workspaceId:u,project:m}=(0,c.Iw)(e=>{var s;return{workspaceId:null==(s=e.project)?void 0:s.workspace_id,project:e.project}}),[p,h]=(0,l.useState)(null),[x,f]=(0,l.useState)("idle"),{data:g}=(0,a.I)(i.y.detail({workspaceId:u,projectId:null==m?void 0:m.id})),[j,w]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(!u){h(null),f("success"),w(null);return}if(f("loading"),g){var e,s;t.current.setState({projectWorkspace:g.workspace,membership:null!=(e=g.current_member)?e:null}),w(null!=(s=g.current_member)?s:null),h(g.workspace),f("success")}},[g,u]),(0,l.useEffect)(()=>{let e={read:!!j,write:!!j,admin:(null==j?void 0:j.role)==="admin"||(null==j?void 0:j.role)==="owner"};t.current.setState({project:m,projectWorkspace:p,membership:j,permissions:e,isLoading:"loading"===x})},[p,x,j,m]),(0,l.useEffect)(()=>{("success"===x||"error"===x)&&t.current.setState({hasFetchedProjectWorkspace:!0})},[x]);let v=(0,o.O)();(0,l.useEffect)(()=>(null==v||v.setProjectWorkspaceId(null!=u?u:null),()=>{null==v||v.setProjectWorkspaceId(null)}),[u,v]);let b={store:t.current};return(0,r.jsx)(d.Provider,{value:b,children:s})};function m(){return(0,l.useContext)(d)}function p(){return!!m()}function h(e){let{store:s}=function(){let e=(0,l.useContext)(d);if(!e)throw Error("useProjectWorkspaceContext must be used within a ProjectWorkspaceProvider");return e}();return s(e)}function x(e){let s=m(),t=null==s?void 0:s.store;return t?t(e):null}},74846:(e,s,t)=>{t.d(s,{Cb:()=>S,X5:()=>F});var r=t(11405),a=t(70999),l=t(99289),n=t(37079),i=t(43328),o=t(2906),c=t(66608),d=t(73728),u=t(91352),m=t(6072),p=t(16161),h=t(6919),x=t(34936),f=t(33256),g=t(99280),j=t(97115),w=t(19550),v=t.n(w),b=t(96057);let y=()=>(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"We couldn't load the data needed to upgrade your workspace."}),(0,l.jsxs)("p",{children:["Please refresh the page and try again. If the problem continues, contact our"," ",(0,l.jsx)(v(),{href:"/support",className:"underline",children:"Support"}),"."]})]}),N=e=>{let{hasFetchedWorkspace:s}=e;return(0,l.jsx)(m.Cf,{className:"max-h-[90vh] overflow-y-auto",size:"lg",children:(0,l.jsxs)(m.c7,{children:[(0,l.jsx)(m.L3,{className:"text-start text-3xl font-medium",children:"Building something big?"}),s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.rr,{className:"text-sm text-muted-foreground",children:"Out of credits."}),(0,l.jsx)(b.O,{})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.rr,{className:"text-sm text-muted-foreground",children:"Loading..."}),(0,l.jsx)(y,{})]})]})})};var _=t(81797),k=t(98213),E=t(45747),P=t(17651),C=t(49944),I=t(86077),R=t(24159);let O=e=>{let{workspace:s,myWorkspaceRole:t,onSendPing:r,onDismiss:a,isSendingPing:n}=e,i=async()=>{_.Ay.capture(R.lY.OUT_OF_CREDITS_DIALOG.SEND_PING_CLICKED,{workspace_id:s.id,workspace_plan:s.plan,workspace_plan_type:s.plan_type,user_role:t}),await r(),k.oR.success("Ping sent!",{description:"The workspace owner has been notified about the credit shortage."})},{owner:o}=(0,P.K4)({workspaceId:s.id});return(0,l.jsxs)(m.Cf,{className:"max-h-[90vh] overflow-y-auto",size:"lg",children:[(0,l.jsx)(m.c7,{className:"flex flex-col gap-4",children:(0,l.jsxs)("div",{className:"flex flex-col items-start gap-1",children:[(0,l.jsx)(I.Fy,{className:"size-9"}),(0,l.jsx)(m.L3,{className:"text-start text-3xl font-medium",children:"Workspace out of credits"}),(0,l.jsx)(m.rr,{className:"text-start text-sm text-muted-foreground",children:"Only the workspace owner can upgrade and add more credits. Send a ping and continue building."})]})}),(0,l.jsx)("div",{className:"rounded-lg p-3",children:(0,l.jsx)(E.P,{id:(null==o?void 0:o.user_id)||s.owner_id,username:(null==o?void 0:o.display_name)||"Owner",displayName:null==o?void 0:o.display_name,email:(null==o?void 0:o.email)||"",avatarClassName:"h-8 w-8",actionComponent:(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Owner"}),showBadge:!1})}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(C.$,{variant:"outline",className:"flex-1",onClick:()=>{_.Ay.capture(R.lY.OUT_OF_CREDITS_DIALOG.DISMISS_CLICKED,{workspace_id:s.id,workspace_plan:s.plan,workspace_plan_type:s.plan_type,user_role:t}),a()},children:"Dismiss"}),(0,l.jsx)(C.$,{className:"h-8 flex-1",onClick:i,disabled:n,children:n?"Sending...":"Send a ping"})]})]})};var A=t(99605),S=function(e){return e.INACTIVE_WORKSPACE="INACTIVE_WORKSPACE",e.FREE_DAILY_LIMIT="FREE_DAILY_LIMIT",e.FREE_MONTHLY_LIMIT="FREE_MONTHLY_LIMIT",e.LEGACY_DAILY_LIMIT="LEGACY_DAILY_LIMIT",e.PAID_MONTHLY_LIMIT="PAID_MONTHLY_LIMIT",e}({});let T={INACTIVE_WORKSPACE:{title:"Reactivate your workspace",subtitle:"Your workspace is inactive. Upgrade to continue building.",showCreditDifference:!1,showWhatsChanging:!1,showPlanFeatures:!0,showNextBillingCycle:!1,showPlanDropdown:!0},FREE_DAILY_LIMIT:{title:"Daily limit reached",subtitle:"You've used today's free credits. Upgrade to keep building.",showCreditDifference:!1,showWhatsChanging:!1,showPlanFeatures:!0,showNextBillingCycle:!1,showPlanDropdown:!0},FREE_MONTHLY_LIMIT:{title:"Monthly limit reached",subtitle:"You've used all your free credits this month. Upgrade to keep building.",showCreditDifference:!1,showWhatsChanging:!1,showPlanFeatures:!0,showNextBillingCycle:!1,showPlanDropdown:!0},LEGACY_DAILY_LIMIT:{title:"Daily limit reached",subtitle:"Your plan has daily limits. Upgrade to a modern plan with monthly credits.",showCreditDifference:!1,showWhatsChanging:!0,showPlanFeatures:!1,showNextBillingCycle:!0,showPlanDropdown:!0},PAID_MONTHLY_LIMIT:{title:"Need more credits?",subtitle:"You've used your monthly credits. Add more to continue this month.",showCreditDifference:!0,showWhatsChanging:!1,showPlanFeatures:!1,showNextBillingCycle:!0,showPlanDropdown:!0}};function D(e){let{workspace:s,membership:t,hasFetchedWorkspace:a,onClose:i,scenario:d}=e,{isAuthenticated:w,authUser:v}=(0,n.Z2)(),{userData:b}=(0,c.ur)(),{setPricingScenario:y,selectedProPlan:_,selectedBizPlan:k,currentPlan:E}=(0,o.et)(),{sendCreditsPing:P,isSendingPing:C}=function(e){let{workspaceId:s}=e,{mutateAsync:t,isPending:r}=(0,h.n)({mutationFn:async()=>(0,f.Pg)().post("/workspaces/".concat(s,"/credits-ping")),onError:e=>{(0,x.Ni)(e)}});return{sendCreditsPing:t,isSendingPing:r}}({workspaceId:(null==s?void 0:s.id)||""});(0,r.useEffect)(()=>{y("outOfCredits")},[y]);let I=(0,r.useMemo)(()=>"biz"===(0,j.m6)(E.id)?k:_,[E.id,_,k]),R=T[(0,r.useMemo)(()=>d||(s?function(e){var s,t;let r=e.plan,{isFreePlan:a,isInactivePlan:l,isAmbassadorPlan:n,isPaidPlan:i,isLegacyPlan:o}=(0,j.cb)(r),c=(null!=(s=e.billing_period_credits_limit)?s:0)>0,d=a&&(null!=(t=e.total_credits_used_in_billing_period)?t:0)>=A.le;return l?"INACTIVE_WORKSPACE":a&&!d?"FREE_DAILY_LIMIT":a&&d?"FREE_MONTHLY_LIMIT":(o||n)&&!c?"LEGACY_DAILY_LIMIT":"PAID_MONTHLY_LIMIT"}(s):S.FREE_DAILY_LIMIT),[d,s])],D=(0,r.useMemo)(()=>s?(0,g.Y)({currentPlan:E,targetPlanCategory:(0,j.m6)(I)}):[],[s,E,I]);if(!s)return(0,l.jsx)(N,{hasFetchedWorkspace:a});if(!w||!b)return(0,l.jsx)(m.Cf,{className:"max-h-[90vh] overflow-y-auto",size:"lg",children:(0,l.jsx)(p.E,{className:"h-[400px] w-full"})});let L=null==t?void 0:t.role;return(null==v?void 0:v.uid)!==s.owner_id?(0,l.jsx)(O,{workspace:s,myWorkspaceRole:L,onSendPing:async()=>{await P()},onDismiss:()=>{null==i||i()},isSendingPing:C}):(0,l.jsx)(u.n,{targetPlan:I,availablePlans:D,title:R.title,subtitle:R.subtitle,showCreditDifference:R.showCreditDifference,showWhatsChanging:R.showWhatsChanging,showPlanFeatures:R.showPlanFeatures,showNextBillingCycle:R.showNextBillingCycle,showPlanDropdown:R.showPlanDropdown})}function L(e){let{onClose:s,scenario:t}=e,r=(0,d.B5)(e=>e.projectWorkspace),a=(0,d.B5)(e=>e.membership),n=(0,d.B5)(e=>e.hasFetchedProjectWorkspace);return(0,l.jsx)(D,{workspace:r,membership:a,hasFetchedWorkspace:n,onClose:s,scenario:t})}function M(e){let{onClose:s,scenario:t}=e,r=(0,i.useCurrentWorkspaceStore)(e=>e.currentWorkspace),a=(0,i.useCurrentWorkspaceStore)(e=>e.membership),n=(0,i.useCurrentWorkspaceStore)(e=>e.hasFetchedCurrentWorkspace);return(0,l.jsx)(D,{workspace:r,membership:a,hasFetchedWorkspace:n,onClose:s,scenario:t})}let W=function(){let{onClose:e,scenario:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.tY)()?(0,l.jsx)(L,{onClose:e,scenario:s}):(0,l.jsx)(M,{onClose:e,scenario:s})},F=()=>{let e=(0,a.f)(W);return(0,r.useCallback)(s=>{e({childProps:{onClose:()=>e(!1),scenario:s}})},[e])}},79062:(e,s,t)=>{t.d(s,{Q:()=>r});function r(e){return Number.isInteger(e)?e.toString():e.toFixed(2)}},79312:(e,s,t)=>{t.d(s,{RF:()=>i,Yq:()=>o,eZ:()=>a,mk:()=>n,ss:()=>l});var r=t(59404),a=function(e){return e.FeatureBadgeVisibility="feature:badge-visibility",e.FeatureCustomDomains="feature:custom-domains",e.FeatureProjectVisibility="feature:project-visibility",e.ViewProject="project:view",e.EditProject="project:edit",e.ManageProjectSettings="project:settings:manage",e.DeleteProject="project:delete",e.TransferProject="project:transfer",e.DownloadProject="project:download",e.ViewProjectUsage="project:usage:view",e.EditProjectVisibility="project:visibility:edit",e.EditProjectBadge="project:badge:edit",e.DeployProject="project:deploy",e.ViewProjectFiles="project:files:view",e.EditProjectFiles="project:files:edit",e.RemixProject="project:remix",e.ViewProjectCollaborators="project:collaborators:view",e.AddProjectOwners="project:collaborators:add:owner",e.AddProjectAdmins="project:collaborators:add:admin",e.AddProjectEditors="project:collaborators:add:editor",e.AddProjectViewers="project:collaborators:add:viewer",e.RemoveProjectOwners="project:collaborators:remove:owner",e.RemoveProjectAdmins="project:collaborators:remove:admin",e.RemoveProjectEditors="project:collaborators:remove:editor",e.RemoveProjectViewers="project:collaborators:remove:viewer",e.ManageMagicCodes="project:collaborators:magic-codes:manage",e.ManageProjectDomains="project:domains:manage",e.DisconnectProjectSupabase="project:supabase:disconnect",e.ManageProjectGit="project:git:manage",e.ManageProjectIntegrations="project:integrations:manage",e.HireExpert="project:expert:hire",e.SubmitProjectFeedback="project:feedback:submit",e.ManageProjectBookmarks="project:bookmarks:manage",e.UpdateProjectPresence="project:presence:update",e.CreateWorkspaces="workspace:create",e.ViewWorkspace="workspace:view",e.LeaveWorkspace="workspace:leave",e.EditWorkspaceSettings="workspace:settings:edit",e.ViewWorkspaceUsage="workspace:usage:view",e.ManageWorkspacePlan="workspace:plan:manage",e.UpdateWorkspaceCreditLimit="workspace:credit-limit:update",e.ViewWorkspaceMembers="workspace:members:view",e.AddWorkspaceOwners="workspace:roles:add:owner",e.AddWorkspaceAdmins="workspace:roles:add:admin",e.AddWorkspaceEditors="workspace:roles:add:editor",e.AddWorkspaceViewers="workspace:roles:add:viewer",e.RemoveWorkspaceOwners="workspace:roles:remove:owner",e.RemoveWorkspaceAdmins="workspace:roles:remove:admin",e.RemoveWorkspaceEditors="workspace:roles:remove:editor",e.RemoveWorkspaceViewers="workspace:roles:remove:viewer",e.ViewWorkspaceProjects="workspace:projects:view",e.CreateWorkspaceProjects="workspace:projects:create",e.ManageWorkspaceTemplates="workspace:templates:manage",e.ManageWorkspaceBilling="workspace:billing:manage",e.ManageWorkspaceGit="workspace:git:manage",e.ManageWorkspaceIntegrations="workspace:integrations:manage",e.ManageWorkspaceSupabase="workspace:supabase:manage",e.ManageWorkspaceIdentity="workspace:identity:manage",e.ManageBenchmarks="workspace:benchmarks:manage",e.ManageEvals="workspace:evals:manage",e.ManageInternalChat="workspace:internal-chat:manage",e.ManageAnalytics="workspace:analytics:manage",e.ManageFeaturedProjects="project:featured:manage",e.RemixProjectSnapshot="project:remix:snapshot",e.ManageProjectAnnotations="project:annotations:manage",e}({});let l=["workspace:roles:add:owner","workspace:roles:add:viewer","workspace:roles:add:editor","workspace:roles:add:admin"],n=(e,s,t)=>{if(s)return!1;switch(e){case"owner":return t.includes("workspace:roles:remove:owner");case"admin":return t.includes("workspace:roles:remove:admin");case"member":return t.includes("workspace:roles:remove:editor");case"viewer":return t.includes("workspace:roles:remove:viewer");default:return!1}},i=["project:collaborators:add:viewer","project:collaborators:add:editor","project:collaborators:add:admin","project:collaborators:add:owner"],o=(e,s,t)=>{if(e.id===s||e.access_level===r.h.OWNER)return!1;switch(e.access_level){case r.h.ADMIN:return t.includes("project:collaborators:remove:admin");case r.h.WRITE:return t.includes("project:collaborators:remove:editor");case r.h.READ:return t.includes("project:collaborators:remove:viewer");case r.h.NONE:default:return!1}}},82360:(e,s,t)=>{t.d(s,{m:()=>X,$:()=>ee});var r=t(99289),a=t(19550),l=t.n(a),n=t(73728),i=t(39627),o=t(34363),c=t(33256),d=t(11405),u=t(98213),m=t(37079),p=t(23594),h=t(30394),x=t(95358),f=t(49944),g=t(97757),j=t(88852),w=t(99017),v=t(8497),b=t(97115),y=t(79312),N=t(61625),_=t(25276),k=t(89101),E=t(1596),P=t(49612),C=t(72384),I=t(79062);let R=e=>{let{workspace:s,memberships:t}=e,a=new Date().getMonth()+1,l=new Date().getFullYear(),{data:n}=(0,o.I)(C.y.workspaceUsage({workspaceId:null==s?void 0:s.id,month:a,year:l})),{data:i}=(0,o.I)(C.y.workspaceUserTotalUsage({workspaceId:null==s?void 0:s.id})),c=(0,d.useMemo)(()=>null==i?void 0:i.map(e=>{let s=t.find(s=>s.user_id===e.user_id);return s?{...e,membership:s}:null}).filter(e=>null!==e).sort((e,s)=>s.count-e.count),[i,t]),u=(0,d.useMemo)(()=>null==n?void 0:n.user_usages.map(e=>{let s=t.find(s=>s.user_id===e.user_id);return s?{...e,membership:s}:null}).filter(e=>null!==e).sort((e,s)=>s.count-e.count),[n,t]);return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("p",{className:"pb-2 text-sm text-muted-foreground",children:["Showing usage for ",(0,E.GP)(new Date(l,a-1),"MMMM yyyy"),"."]}),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:(null==u?void 0:u.length)===0?(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"No usage data for this period. Usage will appear here once members begin using the workspace."}):null==u?void 0:u.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(P.H,{user:{id:e.user_id,username:e.membership.display_name||e.membership.email},photoURL:e.membership.photo_url}),(0,r.jsx)("p",{className:"text-sm font-medium",children:e.membership.display_name||e.membership.email})]}),(0,r.jsxs)("div",{className:"text-muted-foreground",children:[(0,I.Q)(e.count)," credit",1===e.count?"":"s"," used"]})]},e.user_id))}),c&&c.length>0&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"border-t pt-4",children:[(0,r.jsx)("p",{className:"pb-2 text-sm text-muted-foreground",children:"Total usage across all months."}),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:c.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(P.H,{user:{id:e.user_id,username:e.membership.display_name||e.membership.email},photoURL:e.membership.photo_url}),(0,r.jsx)("p",{className:"text-sm font-medium",children:e.membership.display_name||e.membership.email})]}),(0,r.jsxs)("div",{className:"font-medium text-muted-foreground",children:[(0,I.Q)(e.count)," credit",1===e.count?"":"s"," total"]})]},e.user_id))})]})})]})};var O=t(45747),A=t(70999),S=t(61461);let T=e=>{let{memberName:s,onConfirm:t,onCancel:a}=e;return(0,r.jsx)(S.A,{title:"Remove workspace member",targetName:s,descriptionTemplate:"Are you sure you want to remove ".concat(s," from this workspace? They will no longer have access to any workspace projects or resources."),onConfirm:t,onCancel:a})};var D=t(5531),L=t(89748),M=t(31126),W=t(48591),F=t(51252),V=t(6919),U=t(34936),Y=t(26516),B=t(13432);let K={owner:"Owner",admin:"Admin",member:"Editor",viewer:"Viewer"},H={owner:"Owners can manage all collaborators, projects, and integrations.",admin:"Admins can manage editors, projects, and integrations.",member:"Editors can only create and edit projects.",viewer:"Viewers can only view projects."},q=e=>{var s,t;let{currentMembership:a,workspaceId:l,workspace:n,permissions:i}=e,[o,u]=(0,d.useState)(null!=(s=a.monthly_credit_limit)?s:void 0),[p,h]=(0,d.useState)(!1),v=(0,d.useRef)(null),{authUser:N}=(0,m.Z2)(),_=a.user_id===(null==N?void 0:N.uid),k=(0,A.f)(T),E=!a.joined_at||""===a.joined_at,{isPaidPlan:P}=(0,b.cb)(n.plan),C=(0,x.BK)(),I=y.ss.some(e=>i.includes(e)),R=i.includes(y.eZ.AddWorkspaceViewers),S=(0,y.mk)(a.role,_,i),q=i.includes(y.eZ.UpdateWorkspaceCreditLimit),{updateWorkspaceMemberRole:Z}=function(e){let{workspaceId:s}=e,t=(0,F.jE)(),r=(0,Y.H)(),{mutateAsync:a}=(0,V.n)({mutationFn:async e=>{let{userId:t,role:r}=e,a=(0,c.Pg)();return await a.put("/workspaces/".concat(s,"/memberships/").concat(t),{role:r})},onMutate:async e=>{await (0,B.Pf)(t,s),(0,B.I7)(t,s,r,s=>s.map(s=>s.user_id===e.userId?{...s,role:e.role}:s))},onSuccess:async e=>{e&&(0,B.I7)(t,s,r,s=>s.map(s=>s.user_id===e.user_id?e:s)),(0,B.y)(t,s,r,{refetch:!1})},onError:e=>{(0,B.y)(t,s,r,{refetch:!0})}});return{updateWorkspaceMemberRole:a}}({workspaceId:l}),{updateWorkspaceMemberCreditLimit:z}=function(e){let{workspaceId:s}=e,t=(0,F.jE)(),r=(0,Y.H)(),{mutateAsync:a}=(0,V.n)({mutationFn:async e=>{let{userId:t,monthlyCreditLimit:r}=e,a=(0,c.Pg)();await a.put("/user/workspaces/".concat(s,"/memberships/").concat(t),{monthly_credit_limit:null!=r?r:-1})},onMutate:async e=>{await (0,B.Pf)(t,s),(0,B.I7)(t,s,r,s=>s.map(s=>s.user_id===e.userId?{...s,monthly_credit_limit:-1===e.monthlyCreditLimit?null:e.monthlyCreditLimit}:s))},onError:e=>{(0,U.Ni)(e)},onSettled:()=>{(0,B.y)(t,s,r)}});return{updateWorkspaceMemberCreditLimit:a}}({workspaceId:l}),{removeWorkspaceMember:$}=function(e){let{workspaceId:s}=e,t=(0,F.jE)(),r=(0,Y.H)(),{mutateAsync:a}=(0,V.n)({mutationFn:async e=>{let{userId:t}=e,r=(0,c.Pg)();await r.delete("/workspaces/".concat(s,"/memberships/").concat(t))},onMutate:async e=>{await (0,B.Pf)(t,s),(0,B.I7)(t,s,r,s=>s.filter(s=>s.user_id!==e.userId),void 0,e=>Math.max(0,e-1))},onError:e=>{(0,U.Ni)(e)},onSettled:()=>{(0,B.y)(t,s,r)}});return{removeWorkspaceMember:a}}({workspaceId:l}),G=(0,d.useCallback)(async e=>{E||await z({userId:a.user_id,monthlyCreditLimit:isNaN(null!=e?e:0)?-1:e})},[a.user_id,E,z]);(0,d.useEffect)(()=>{let e=e=>{p&&v.current&&!v.current.contains(e.target)&&G(o).then(()=>{h(!1)})};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[p,o,z,G]);let Q=async e=>{if(!E){if("viewer"===e&&!R)return void C(x.KU.PRO_CHANGE_VIEWER_ROLE);await Z({userId:a.user_id,role:e})}},J=()=>{k({childProps:{memberName:a.display_name||a.username,onConfirm:async()=>{await $({userId:a.user_id}),k(!1)},onCancel:()=>k(!1)}})},X=(0,W.ZS)(),ee=(0,r.jsxs)(r.Fragment,{children:[q&&X&&(0,r.jsxs)(w.m_,{delayDuration:600,children:[(0,r.jsx)(w.k$,{asChild:!0,children:p?(0,r.jsxs)("div",{ref:v,className:"relative flex items-center",children:[(0,r.jsx)(j.p,{placeholder:"Limit / month",value:o||"",className:"max-w-32 pr-8 text-xs",onChange:e=>u(parseInt(e.target.value)),onKeyDown:e=>{if("Enter"===e.key)G(o).then(()=>{h(!1)});else if("Escape"===e.key){var s;u(null!=(s=a.monthly_credit_limit)?s:void 0),h(!1)}},autoFocus:!0}),(0,r.jsx)(f.$,{variant:"ghost",size:"icon",className:"absolute right-0.5 h-8 w-8 shadow-none hover:bg-accent hover:shadow-none",onClick:()=>{G(o).then(()=>{h(!1)})},children:(0,r.jsx)(g.A,{name:"check",size:"small"})})]}):(0,r.jsx)(f.$,{variant:"ghost",size:"sm",className:"text-xs shadow-none hover:bg-accent hover:shadow-none",onClick:()=>h(!0),children:(null==a?void 0:a.monthly_credit_limit)?"".concat(a.monthly_credit_limit," credits/mo"):"No limit"})}),(0,r.jsx)(w.ZI,{className:"max-w-[30ch]",children:"Update credit limits for this member"})]}),(0,r.jsxs)(D.rI,{children:[(0,r.jsxs)(w.m_,{children:[(0,r.jsx)(w.k$,{asChild:!0,children:(0,r.jsx)(D.ty,{asChild:!0,disabled:!S||!I,children:(0,r.jsxs)(f.$,{"aria-haspopup":"true",variant:"ghost",children:[E?"Pending":K[a.role]," ",(0,r.jsx)(g.A,{name:"keyboard_arrow_down",size:"small",className:"opacity-50"})]})})}),(0,r.jsx)(w.ZI,{className:"max-w-[30ch]",children:E?"This user has been invited to join as ".concat(K[a.role]):H[a.role]})]}),(0,r.jsx)(D.SQ,{align:"end",children:E?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L.t,{label:"Pending",isSelected:!0,onClick:()=>{},disabled:!0}),(0,r.jsx)(L.t,{label:"Remove",destructive:!0,onClick:J,disabled:!S})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L.t,{label:"Owner",isSelected:"owner"===a.role,onClick:()=>Q("owner"),disabled:!i.includes(y.eZ.AddWorkspaceOwners)||!S,tooltip:H.owner}),(0,r.jsx)(L.t,{label:"Admin",isSelected:"admin"===a.role,onClick:()=>Q("admin"),disabled:!i.includes(y.eZ.AddWorkspaceAdmins)||!S,tooltip:H.admin}),(0,r.jsx)(L.t,{label:"Editor",isSelected:"member"===a.role,onClick:()=>Q("member"),disabled:!i.includes(y.eZ.AddWorkspaceEditors)||!S,tooltip:H.member}),(0,r.jsx)(L.t,{label:"Viewer",isSelected:"viewer"===a.role,onClick:()=>Q("viewer"),disabled:!i.includes(y.eZ.AddWorkspaceViewers)||!S,tooltip:P?H.viewer:"Viewer role requires a Pro plan. Click to upgrade.",rightElement:(0,r.jsx)(M.M,{workspace:n,requiredPlanCategory:"pro"})}),(0,r.jsx)(L.t,{label:_?"Leave":"Remove",destructive:!0,onClick:J,disabled:!S})]})})]})]});return(0,r.jsx)(O.P,{id:a.user_id,username:a.username,displayName:null!=(t=a.display_name)?t:a.email,photoURL:a.photo_url,avatarClassName:"h-8 w-8",actionComponent:ee,isCurrentUser:_,email:a.email,isInvited:E})},Z=[{label:"All",value:"all"},{label:"Active",value:"active"},{label:"Pending",value:"pending"}],z=e=>{let{currentPage:s,totalPages:t,onPreviousPage:a,onNextPage:l,onFirstPage:n,onLastPage:i,totalCount:o,pageSize:c}=e;if(t<=1)return null;let d=Math.min(s*c,o);return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(s-1)*c+1,"-",d," of ",o," members"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f.$,{variant:"outline",size:"sm",onClick:n,disabled:1===s,children:(0,r.jsx)(g.A,{name:"first_page",className:"h-4 w-4"})}),(0,r.jsx)(f.$,{variant:"outline",size:"sm",onClick:a,disabled:1===s,children:(0,r.jsx)(g.A,{name:"chevron_left",className:"h-4 w-4"})}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[s," of ",t]}),(0,r.jsx)(f.$,{variant:"outline",size:"sm",onClick:l,disabled:s===t,children:(0,r.jsx)(g.A,{name:"chevron_right",className:"h-4 w-4"})}),(0,r.jsx)(f.$,{variant:"outline",size:"sm",onClick:i,disabled:s===t,children:(0,r.jsx)(g.A,{name:"last_page",className:"h-4 w-4"})})]})]})},$=e=>{var s;let{memberships:t,workspace:a,searchParams:l,search:n,total:i,isLoading:o,PAGE_SIZE:c}=e,{authUser:E}=(0,m.Z2)(),[P,C]=(0,d.useState)(l.status||"all"),[I,O]=(0,d.useState)(l.query||""),A=(0,v.d)(I,250);(0,d.useEffect)(()=>{let e=A;e.length<3&&(e=""),n({query:e,offset:0,status:P})},[A,P,n]);let S="free"===(0,b.m6)(a.plan),T=(0,x.BK)(),{inviteWorkspaceMember:D,isInvitingMember:L}=(0,k.s)({workspaceId:a.id}),{exportMembers:M,isExporting:W}=function(e){let[s,t]=(0,d.useState)(!1);return{exportMembers:async()=>{try{t(!0);let s=await _.b.getValidToken(),r={};s&&(r.Authorization="Bearer ".concat(s));let a=(0,N.N)(),l=await fetch("".concat(a,"/workspaces/").concat(e,"/memberships/export"),{method:"GET",headers:r,credentials:"include"});if(!l.ok)throw Error("Export failed: ".concat(l.statusText));let n=l.headers.get("Content-Disposition"),i=new Date,o=e=>String(e).padStart(2,"0"),c="workspace_members_".concat(i.getUTCFullYear(),"-").concat(o(i.getUTCMonth()+1),"-").concat(o(i.getUTCDate()),"_").concat(o(i.getUTCHours()),"-").concat(o(i.getUTCMinutes()),".csv");if(n){let e=n.match(/filename="([^"]+)"/i);(null==e?void 0:e[1])&&(c=e[1])}let d=await l.blob(),u=URL.createObjectURL(d),m=document.createElement("a");return m.href=u,m.download=c,m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(u),{success:!0}}catch(e){return{success:!1,error:e}}finally{t(!1)}},isExporting:s}}(a.id),F=async()=>{let e=u.oR.loading("Preparing CSV export..."),s=await M();(null==s?void 0:s.success)?u.oR.success("Export ready. Download should begin shortly.",{id:e,duration:4e3}):u.oR.error("Export failed. Please try again.",{id:e})},V=async e=>{let{emails:s,role:t}=e;if(0===s.length)return{success:!1};if("viewer"===t&&S)return T(x.KU.PRO_CHANGE_VIEWER_ROLE),{success:!1};let r=0;for(let e of s)await D({email:e,role:t}),r++;return{success:r>0}},U=e=>{O(e)},{permissions:Y}=(0,p.S)(),B=Y.includes(y.eZ.ViewWorkspaceUsage),K=y.ss.some(e=>Y.includes(e));return(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium",children:"Invite new members"}),(0,r.jsx)(h.M,{onInvite:e=>{let{emails:s,role:t}=e;return V({emails:s,role:t})},isInviting:L,roleOptions:[{value:"admin",label:"Admin"},{value:"member",label:"Editor"},{value:"viewer",label:"Viewer"}],canSelectRoles:K,defaultRole:"member",placeholder:"Add emails",completelyDisabled:!K,workspace:a})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium",children:"Members"}),(I||"all"!==P)&&(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[i," members found"]})]}),B&&(0,r.jsxs)(w.m_,{children:[(0,r.jsx)(w.k$,{asChild:!0,children:(0,r.jsx)(f.$,{variant:"outline",size:"sm",onClick:F,disabled:W,"aria-label":"Export members CSV",children:W?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{name:"refresh",className:"mr-1 h-4 w-4 animate-spin"}),"Exporting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{name:"download",className:"mr-1 h-4 w-4"}),"Export"]})})}),(0,r.jsx)(w.ZI,{align:"end",children:"Exports all workspace members as a CSV, including monthly usage and credit limits."})]})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(g.A,{name:"search",className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,r.jsx)(j.p,{type:"text",placeholder:"Search members by name or email...",value:I,onChange:e=>U(e.target.value),className:"pl-9"}),I&&(0,r.jsx)(f.$,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 h-6 w-6 -translate-y-1/2 p-0",onClick:()=>U(""),children:(0,r.jsx)(g.A,{name:"close",className:"h-3 w-3"})})]}),(0,r.jsx)("div",{className:"flex gap-2",children:Z.map(e=>{let{label:s,value:t}=e;return(0,r.jsx)(f.$,{variant:P===t?"default":"outline",size:"sm",onClick:()=>{C(t)},className:"text-xs",children:s},t)})}),(0,r.jsx)("div",{className:"flex flex-col gap-2 border-b pb-3",children:o?(0,r.jsx)("div",{className:"flex items-center justify-center py-8 text-sm text-muted-foreground",children:"Loading members..."}):t.length>0?t.map(e=>e?(0,r.jsx)(q,{currentMembership:e,workspaceId:a.id,workspace:a,permissions:Y},"".concat(e.email,"-").concat(e.user_id)):null):(0,r.jsx)("div",{className:"flex items-center justify-center py-8 text-sm text-muted-foreground",children:I||"all"!==P?"No members found".concat(I?' for "'.concat(I,'"'):""):"No members found"})}),(0,r.jsx)(z,{currentPage:Math.floor((null!=(s=l.offset)?s:0)/c)+1,totalPages:Math.ceil(i/c),onPreviousPage:()=>{var e;return n({offset:Math.max(0,(null!=(e=l.offset)?e:0)-c)})},onNextPage:()=>{var e;return n({offset:(null!=(e=l.offset)?e:0)+c})},onFirstPage:()=>n({offset:0}),onLastPage:()=>n({offset:Math.floor((i-1)/c)*c}),totalCount:i,pageSize:c})]}),B&&t&&(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h4",{children:"Usage"}),(0,r.jsx)(R,{workspace:a,memberships:t})]})]})};var G=t(17651);function Q(e){let{data:s,isLoading:t}=(0,o.I)({queryKey:["workspace",e,"maxSeats"],queryFn:async()=>{let s=(0,c.Pg)();return(await s.get("/workspaces/".concat(e,"/max-seats"))).max_seats},enabled:!!e}),{memberCount:r}=(0,G.yj)({workspaceId:e,status:"all"});return{maxSeats:s,isLoadingMaxSeats:t,memberCount:r}}function J(e,s,t,a){return(0,r.jsxs)(r.Fragment,{children:["Inviting people to ",(0,r.jsx)("strong",{children:e.name||"the workspace"})," gives access to workspace shared projects and credits."," ",null!=t?(0,r.jsxs)(r.Fragment,{children:["You're using ",s,"/",a?"...":t," seats. Need more?"," ",(0,r.jsx)(l(),{className:"underline",target:"_blank",href:"https://enterpriseform.lovable.app/",children:"Contact us"}),"."]}):(0,r.jsxs)(r.Fragment,{children:["You have ",s," people in this workspace."]})]})}let X=20,ee=e=>{let{workspace:s}=e,t=(0,n.tY)(),{members:a,total:l,isLoading:i,search:o,searchParams:c}=(0,G._A)({workspaceId:s.id});return t?(0,r.jsx)(et,{workspace:s,members:a,total:l,isLoading:i,search:o,searchParams:c}):(0,r.jsx)(es,{workspace:s,members:a,total:l,isLoading:i,search:o,searchParams:c})};function es(e){let{workspace:s,members:t,total:a,isLoading:l,search:n,searchParams:o}=e,{maxSeats:c,isLoadingMaxSeats:d,memberCount:u}=Q(s.id),m=J(s,u,c,d);return(0,r.jsx)(i.Pt,{title:"People",value:"people",description:m,docsLink:"https://docs.lovable.dev/user-guides/teams",children:(0,r.jsx)(Y.k,{searchParams:o,children:(0,r.jsx)($,{memberships:t,workspace:s,searchParams:o,search:n,total:a,isLoading:l,PAGE_SIZE:X})})})}function et(e){let{workspace:s,members:t,total:a,isLoading:l,search:n,searchParams:o}=e,{maxSeats:c,isLoadingMaxSeats:d,memberCount:u}=Q(s.id),m=J(s,u,c,d);return(0,r.jsx)(i.Pt,{title:"People",value:"people",description:m,children:(0,r.jsx)($,{memberships:t,workspace:s,searchParams:o,search:n,total:a,isLoading:l,PAGE_SIZE:X})})}},89101:(e,s,t)=>{t.d(s,{s:()=>d});var r=t(51252),a=t(6919),l=t(34936),n=t(33256),i=t(72384),o=t(26516),c=t(13432);function d(e){let{workspaceId:s}=e,t=(0,r.jE)(),d=(0,o.H)(),{mutateAsync:u,isPending:m}=(0,a.n)({mutationFn:async e=>{let{email:t,role:r="member"}=e;return(0,n.Pg)().post("/workspaces/".concat(s,"/memberships"),{email:t,role:r})},onSuccess:async e=>{if(e){let a=i.y.workspaceMemberships({workspaceId:s}),l=t.getQueryData(a.queryKey);if(l&&!l.members.some(s=>s.user_id===e.user_id)){var r;t.setQueryData(a.queryKey,{...l,members:[...l.members,e],total:l.total+1,limit:l.limit,offset:null!=(r=l.offset)?r:0,has_more:l.has_more})}if(d&&(!d.query||""===d.query.trim())){let r=i.y.searchWorkspaceMemberships({workspaceId:s,params:d}),a=t.getQueryData(r.queryKey);a&&(a.members.some(s=>s.user_id===e.user_id)||t.setQueryData(r.queryKey,{...a,members:[...a.members,e],total:a.total+1,limit:a.limit,offset:a.offset,has_more:a.has_more}))}}(0,c.y)(t,s,d)},onError:e=>{(0,l.Ni)(e)}});return{inviteWorkspaceMember:u,isInvitingMember:m}}},89748:(e,s,t)=>{t.d(s,{t:()=>c});var r=t(99289),a=t(11405),l=t(5531),n=t(97757),i=t(26551),o=t(99017);let c=e=>{let{label:s,isSelected:t,onClick:c,disabled:d,className:u,destructive:m,tooltip:p,rightElement:h}=e,[x,f]=(0,a.useState)(!1);return(0,r.jsxs)(o.m_,{open:void 0!==p&&x,onOpenChange:f,children:[(0,r.jsx)(o.k$,{asChild:!0,children:(0,r.jsxs)(l._2,{onClick:c,disabled:d,className:(0,i.cn)("flex items-center justify-between",{"bg-muted":t,"cursor-default":d,"text-destructive-primary focus:bg-destructive focus:text-destructive-foreground":m},u),children:[(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[s,h]}),t&&(0,r.jsx)(n.A,{name:"check",size:"small"})]})}),(0,r.jsx)(o.ZI,{side:"right",className:"max-w-[30ch]",children:p})]})}},95358:(e,s,t)=>{t.d(s,{KU:()=>c,BK:()=>m});var r=t(11405),a=t(70999),l=t(99289),n=t(2906),i=t(91352),o=t(99280),c=function(e){return e.BIZ_TEMPLATES="BIZ_TEMPLATES",e.BIZ_PERSONAL_PROJECT="BIZ_PERSONAL_PROJECT",e.BIZ_SSO="BIZ_SSO",e.PRO_SUPPORT="PRO_SUPPORT",e.PRO_VIEWER_INVITE_LINK="PRO_VIEWER_INVITE_LINK",e.PRO_SEND_VIEWER_INVITE="PRO_SEND_VIEWER_INVITE",e.PRO_CHANGE_VIEWER_ROLE="PRO_CHANGE_VIEWER_ROLE",e.PRO_DOMAIN_CONNECT="PRO_DOMAIN_CONNECT",e.PRO_HIDE_BADGE="PRO_HIDE_BADGE",e.PRO_PRIVATE_PROJECT="PRO_PRIVATE_PROJECT",e.PRO_EDITORS_CAN_INVITE="PRO_EDITORS_CAN_INVITE",e}({});let d={BIZ_TEMPLATES:{title:"Upgrade to Business",subtitle:"You need to be on a business plan to use templates.",targetPlanCategory:"biz"},BIZ_PERSONAL_PROJECT:{title:"Upgrade to Business",subtitle:"You need to be on a business plan to make a project personal.",targetPlanCategory:"biz"},BIZ_SSO:{title:"Upgrade to Business",subtitle:"You need to be on a business plan to add SSO providers.",targetPlanCategory:"biz"},PRO_SUPPORT:{title:"Upgrade to Pro",subtitle:"You need to be on a paid plan to access direct support.",targetPlanCategory:"pro"},PRO_VIEWER_INVITE_LINK:{title:"Upgrade to Pro",subtitle:"You need to be on a pro plan to create a viewer invite link.",targetPlanCategory:"pro"},PRO_SEND_VIEWER_INVITE:{title:"Upgrade to Pro",subtitle:"You need to be on a pro plan to invite viewers.",targetPlanCategory:"pro"},PRO_CHANGE_VIEWER_ROLE:{title:"Upgrade to Pro",subtitle:"You need to be on a pro plan to change the role to viewer.",targetPlanCategory:"pro"},PRO_DOMAIN_CONNECT:{title:"Upgrade to Pro",subtitle:"You need to be on a pro plan to connect a domain.",targetPlanCategory:"pro"},PRO_HIDE_BADGE:{title:"Upgrade to Pro",subtitle:'You need to be on a pro plan to hide the "Edit with Lovable" badge.',targetPlanCategory:"pro"},PRO_PRIVATE_PROJECT:{title:"Upgrade to Pro",subtitle:"You need to be on a pro plan to make a project private.",targetPlanCategory:"pro"},PRO_EDITORS_CAN_INVITE:{title:"Upgrade to Pro",subtitle:"You need to be on a pro plan to change the editor invitation permissions.",targetPlanCategory:"pro"}},u=e=>{let{scenario:s}=e,t=d[s],{currentPlan:r}=(0,n.et)(),a=(0,o.Y)({currentPlan:r,targetPlanCategory:t.targetPlanCategory});return(0,l.jsx)(i.n,{targetPlan:a[0],availablePlans:a,title:t.title,subtitle:t.subtitle,showCreditDifference:!0,showWhatsChanging:!1,showPlanFeatures:!0,showNextBillingCycle:!0,showPlanDropdown:!1})},m=()=>{let e=(0,a.f)(u);return(0,r.useCallback)(s=>{e({childProps:{onClose:()=>e(!1),scenario:s}})},[e])}},96057:(e,s,t)=>{t.d(s,{O:()=>i});var r=t(99289),a=t(20234),l=t(16161),n=t(26551);let i=e=>{let{showEnterpriseCard:s=!1,className:t}=e;return(0,r.jsxs)("div",{className:(0,n.cn)("flex w-full flex-col gap-4",t),children:[(0,r.jsxs)("div",{className:"grid w-full grid-cols-1 gap-5 sm:grid-cols-3",children:[(0,r.jsxs)(a.Zp,{className:"flex h-full flex-col gap-3 px-4 py-6",children:[(0,r.jsx)(l.E,{className:"h-6 w-24"}),(0,r.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,r.jsx)(l.E,{className:"h-9 w-20"}),(0,r.jsx)(l.E,{className:"h-5 w-16"})]}),(0,r.jsx)(l.E,{className:"h-4 w-full"}),(0,r.jsx)(l.E,{className:"mb-2 h-9 w-full"}),(0,r.jsx)(l.E,{className:"h-9 w-full"}),(0,r.jsxs)("div",{className:"mt-2 flex flex-col gap-4",children:[(0,r.jsx)(l.E,{className:"h-4 w-32"}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)(l.E,{className:"h-4 w-4"}),(0,r.jsx)(l.E,{className:"h-4 w-full"})]})})]})]}),(0,r.jsxs)(a.Zp,{className:"flex h-full flex-col gap-3 px-4 py-6",children:[(0,r.jsx)(l.E,{className:"h-6 w-24"}),(0,r.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,r.jsx)(l.E,{className:"h-9 w-20"}),(0,r.jsx)(l.E,{className:"h-5 w-16"})]}),(0,r.jsx)(l.E,{className:"h-4 w-full"}),(0,r.jsx)(l.E,{className:"mb-2 h-9 w-full"}),(0,r.jsx)(l.E,{className:"h-9 w-full"}),(0,r.jsxs)("div",{className:"mt-2 flex flex-col gap-4",children:[(0,r.jsx)(l.E,{className:"h-4 w-32"}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:[1,2,3,4,5].map(e=>(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)(l.E,{className:"h-4 w-4"}),(0,r.jsx)(l.E,{className:"h-4 w-full"})]},e))})]})]}),(0,r.jsxs)(a.Zp,{className:"flex h-full flex-col gap-3 px-4 py-6",children:[(0,r.jsx)(l.E,{className:"h-6 w-24"}),(0,r.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,r.jsx)(l.E,{className:"h-9 w-20"}),(0,r.jsx)(l.E,{className:"h-5 w-16"})]}),(0,r.jsx)(l.E,{className:"h-4 w-full"}),(0,r.jsx)(l.E,{className:"mb-2 h-9 w-full"}),(0,r.jsx)(l.E,{className:"h-9 w-full"}),(0,r.jsxs)("div",{className:"mt-2 flex flex-col gap-4",children:[(0,r.jsx)(l.E,{className:"h-4 w-32"}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)(l.E,{className:"h-4 w-4"}),(0,r.jsx)(l.E,{className:"h-4 w-full"})]},e))})]})]})]}),s&&(0,r.jsxs)(a.Zp,{className:"flex w-full flex-col items-center justify-between gap-4 px-4 py-6 md:flex-row",children:[(0,r.jsxs)("div",{className:"flex flex-shrink flex-col gap-2",children:[(0,r.jsx)(l.E,{className:"h-6 w-32"}),(0,r.jsx)(l.E,{className:"h-4 w-64"})]}),(0,r.jsx)(l.E,{className:"h-9 w-36"})]})]})}}}]);